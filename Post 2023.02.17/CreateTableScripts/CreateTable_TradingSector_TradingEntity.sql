--================================================================================================
--====================== CREATE TRADING NAMES AND INDUSTRY =======================================
--================================================================================================

USE BENASXDATABASE
GO

--Create Trading Sectors
--================================
CREATE TABLE [dbo].[TradingSector](
	 [Id]				UNIQUEIDENTIFIER	NOT NULL DEFAULT NEWID()
	,[Name]				VARCHAR(400)		NOT NULL
 ,CONSTRAINT [PK_TradingSectorId] PRIMARY KEY CLUSTERED ([Id] ASC) ON [PRIMARY])

INSERT INTO [dbo].[TradingSector]
	([Name])
VALUES
	('Communication Services'),
	('Consumer Discretionary'),
	('Consumer Staples'),
	('Energy'),
	('Financials'),
	('Health Care'),
	('Industrials'),
	('Information Technology'),
	('Materials'),
	('Real Estate'),
	('Unclassified'),
	('Utilities'),
	('Unspecified')


--Create Trading Entities
--================================
CREATE TABLE [dbo].[TradingEntity](
	 [Id]				UNIQUEIDENTIFIER	NOT NULL DEFAULT NEWID()
	,[ASXCode]			VARCHAR(200)		NOT NULL
	,[Name]				VARCHAR(400)		NOT NULL
	,[SectorId]			UNIQUEIDENTIFIER	NOT NULL
	,[isLICS]			BIT					NOT NULL
	,[isA-REIT]			BIT					NOT NULL
	,[isETP]			BIT					NOT NULL
	,[isIndices]		BIT					NOT NULL
	,[isABFund]			BIT					NOT NULL
	,[isDerivative]		BIT					NOT NULL
	,[Notes]			NVARCHAR(400)
 ,CONSTRAINT [PK_TradingEntityId] PRIMARY KEY CLUSTERED ([Id] ASC) ON [PRIMARY]
 ,CONSTRAINT [FK_TradingSector_Id_TradingEntity_SectorId]
	FOREIGN KEY([SectorId])
	REFERENCES [TradingSector]([Id])
);


ALTER TABLE [TradingEntity]
ALTER COLUMN [ASXCode] VARCHAR(10)



UPDATE TradingEntity SET SectorId = 'BE962230-3A30-4F05-96CC-280037E5D2AC' WHERE ASXCode = 'MCL'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'RYD'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'OZG'
UPDATE TradingEntity SET SectorId = '0DD0CA4D-027A-43FA-9177-AC9ADEC29FFC' WHERE ASXCode = 'CU1'
UPDATE TradingEntity SET SectorId = 'BE962230-3A30-4F05-96CC-280037E5D2AC' WHERE ASXCode = 'AGI'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'MIR'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'SEC'
UPDATE TradingEntity SET SectorId = 'BE962230-3A30-4F05-96CC-280037E5D2AC' WHERE ASXCode = 'CLU'
UPDATE TradingEntity SET SectorId = 'BE962230-3A30-4F05-96CC-280037E5D2AC' WHERE ASXCode = 'EXP'
UPDATE TradingEntity SET SectorId = '1388BF14-F2F8-42FD-BEB5-D8B0CE93349C' WHERE ASXCode = 'AFT'
UPDATE TradingEntity SET SectorId = 'BE962230-3A30-4F05-96CC-280037E5D2AC' WHERE ASXCode = 'MFD'
UPDATE TradingEntity SET SectorId = 'BAECF831-B2C0-4A16-8927-749120807FAC' WHERE ASXCode = 'VAH'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'ITW'
UPDATE TradingEntity SET SectorId = 'C5F6EC4D-1EE9-453E-91CB-385736D4DEEB' WHERE ASXCode = 'SQX'
UPDATE TradingEntity SET SectorId = 'BAECF831-B2C0-4A16-8927-749120807FAC' WHERE ASXCode = 'SLK'
UPDATE TradingEntity SET SectorId = 'BE962230-3A30-4F05-96CC-280037E5D2AC' WHERE ASXCode = 'AQS'
UPDATE TradingEntity SET SectorId = 'BAECF831-B2C0-4A16-8927-749120807FAC' WHERE ASXCode = 'D13'
UPDATE TradingEntity SET SectorId = 'BE85741B-AAB1-49DE-BA24-6D860B74AE6E' WHERE ASXCode = 'POB'
UPDATE TradingEntity SET SectorId = 'BE85741B-AAB1-49DE-BA24-6D860B74AE6E' WHERE ASXCode = 'SSE'
UPDATE TradingEntity SET SectorId = 'BE85741B-AAB1-49DE-BA24-6D860B74AE6E' WHERE ASXCode = 'OPH'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'LSX'
UPDATE TradingEntity SET SectorId = 'BE85741B-AAB1-49DE-BA24-6D860B74AE6E' WHERE ASXCode = 'CHJ'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'CFF'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'AFI'
UPDATE TradingEntity SET SectorId = 'BE962230-3A30-4F05-96CC-280037E5D2AC' WHERE ASXCode = 'SIT'
UPDATE TradingEntity SET SectorId = 'BE85741B-AAB1-49DE-BA24-6D860B74AE6E' WHERE ASXCode = 'WSO'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'MHH'
UPDATE TradingEntity SET SectorId = 'BAECF831-B2C0-4A16-8927-749120807FAC' WHERE ASXCode = 'P2P'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'VG1'
UPDATE TradingEntity SET SectorId = 'BE962230-3A30-4F05-96CC-280037E5D2AC' WHERE ASXCode = 'GEM'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'BKI'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'AIQ'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'IBC'
UPDATE TradingEntity SET SectorId = 'BE85741B-AAB1-49DE-BA24-6D860B74AE6E' WHERE ASXCode = 'MZA'
UPDATE TradingEntity SET SectorId = 'BE962230-3A30-4F05-96CC-280037E5D2AC' WHERE ASXCode = 'SKC'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'PAI'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'LRT'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'WMA'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'MXT'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'GC1'
UPDATE TradingEntity SET SectorId = 'BE85741B-AAB1-49DE-BA24-6D860B74AE6E' WHERE ASXCode = 'SAZ'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'PIA'
UPDATE TradingEntity SET SectorId = 'BAECF831-B2C0-4A16-8927-749120807FAC' WHERE ASXCode = 'OTR'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'SNC'
UPDATE TradingEntity SET SectorId = 'BE85741B-AAB1-49DE-BA24-6D860B74AE6E' WHERE ASXCode = 'MDZ'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'BPB'
UPDATE TradingEntity SET SectorId = 'BE85741B-AAB1-49DE-BA24-6D860B74AE6E' WHERE ASXCode = 'SS6'
UPDATE TradingEntity SET SectorId = '0929F615-2F2E-4AED-9769-0F3E53067636' WHERE ASXCode = 'TOP'
UPDATE TradingEntity SET SectorId = '8F78CC16-5EB3-4A8C-9226-3A86413CD6A7' WHERE ASXCode = 'DMC'
UPDATE TradingEntity SET SectorId = 'BAECF831-B2C0-4A16-8927-749120807FAC' WHERE ASXCode = 'PIN'
UPDATE TradingEntity SET SectorId = 'BE962230-3A30-4F05-96CC-280037E5D2AC' WHERE ASXCode = 'HRO'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'ALF'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'PMC'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'WLS'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'PAF'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'MAX'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'TGF'
UPDATE TradingEntity SET SectorId = 'BAECF831-B2C0-4A16-8927-749120807FAC' WHERE ASXCode = 'AMB'
UPDATE TradingEntity SET SectorId = 'BAECF831-B2C0-4A16-8927-749120807FAC' WHERE ASXCode = 'RUB'
UPDATE TradingEntity SET SectorId = 'BE85741B-AAB1-49DE-BA24-6D860B74AE6E' WHERE ASXCode = 'IFX'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'WGB'
UPDATE TradingEntity SET SectorId = 'C5F6EC4D-1EE9-453E-91CB-385736D4DEEB' WHERE ASXCode = 'MMG'
UPDATE TradingEntity SET SectorId = 'BAECF831-B2C0-4A16-8927-749120807FAC' WHERE ASXCode = 'DGX'
UPDATE TradingEntity SET SectorId = 'C5F6EC4D-1EE9-453E-91CB-385736D4DEEB' WHERE ASXCode = 'SLB'
UPDATE TradingEntity SET SectorId = 'BE962230-3A30-4F05-96CC-280037E5D2AC' WHERE ASXCode = 'SCT'
UPDATE TradingEntity SET SectorId = '81D9C77B-D021-4D0B-A50A-87A6913726D6' WHERE ASXCode = 'LAN'
UPDATE TradingEntity SET SectorId = 'BE962230-3A30-4F05-96CC-280037E5D2AC' WHERE ASXCode = 'TCO'
UPDATE TradingEntity SET SectorId = 'C5F6EC4D-1EE9-453E-91CB-385736D4DEEB' WHERE ASXCode = 'S3N'
